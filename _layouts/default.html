<!DOCTYPE html>
	<html>
		<head>
			<title>{{ page.title }}</title>
			<!-- link to main stylesheet -->
			<meta charset="utf-8">
			<link rel="stylesheet" type="text/css" href="/css/main.css">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
			<script type="text/javascript" src="/js/hover.js"></script>
                        <script src="//cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.8/processing.min.js"></script>
			<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		</head>
		<body>
			<nav id="myNav">
	    		<ul id="myNav">
					<li><a href="/">home</a></li>
					<li><a href="/research">research</a></li>
		        	<li><a href="/art">art</a></li>
	        		<li><a href="/cv/static/img/Owen_Martin_cv.pdf" target="_blank">cv</a></li>
	        		<li><a href="/writing">writing</a></li>
					<li><a href="https://github.com/owingit" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/github.svg" />
</a></li>
				        	<li><a href="https://linkedin.com/in/owen-martin-6009a283/" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/linkedin.svg" />
</a>
                            <li><a href="https://twitter.com/{{ site.twitter }}" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/twitter.svg" />
</a>
							<li><a href="https://instagram.com/{{ site.instagram }}" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/instagram.svg" />
		</a>
							</li>
							<!-- Dark mode toggle in the nav so it's accessible on every page -->
							<li id="nav-dark-toggle">
								<div class="dark-mode-toggle-container">
									<label class="dark-mode-switch" title="Toggle dark mode">
										<input type="checkbox" id="darkModeCheckboxNav" class="theme-toggle" aria-label="Toggle dark mode">
										<!-- Sun and moon icons: shown/hidden via CSS depending on checkbox state -->
										<svg class="icon icon-sun" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
											<circle cx="12" cy="12" r="4" fill="currentColor" />
											<g stroke="currentColor" stroke-width="2" stroke-linecap="round">
												<line x1="12" y1="1" x2="12" y2="3" />
												<line x1="12" y1="21" x2="12" y2="23" />
												<line x1="4.2" y1="4.2" x2="5.6" y2="5.6" />
												<line x1="18.4" y1="18.4" x2="19.8" y2="19.8" />
												<line x1="1" y1="12" x2="3" y2="12" />
												<line x1="21" y1="12" x2="23" y2="12" />
												<line x1="4.2" y1="19.8" x2="5.6" y2="18.4" />
												<line x1="18.4" y1="5.6" x2="19.8" y2="4.2" />
											</g>
										</svg>
										<svg class="icon icon-moon" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
											<path fill="currentColor" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
										</svg>
									</label>
								</div>
							</li>
	    		</ul>
			</nav>
			<div class="container">
			
			{{ content }}
			
			</div><!-- /.container -->
	        	<footer>
	    		        <ul id="myFooter">
							<li id="1"><a href="/">home</a></li>
							<li id="2"><a href="/research">research</a></li>
							<li id="3"><a href="/art">art</a></li>
							<li id="4"><a href="/cv/static/img/Owen_Martin_cv.pdf" target="_blank">cv</a></li>
							<li id="5"><a href="/writing">writing</a></li>
	        		        <li><a href="https://github.com/owingit" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/github.svg" />
</a></li>
				        	<li><a href="https://linkedin.com/in/owen-martin-6009a283/" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/linkedin.svg" />
</a>
                            <li><a href="https://twitter.com/{{ site.twitter }}" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/twitter.svg" />
</a>
							<li><a href="https://instagram.com/{{ site.instagram }}" target="_blank"><img height="13" width="13" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/instagram.svg" />
</a>						
							<!-- Dark mode toggle in the nav so it's accessible on every page -->
							<li id="nav-dark-toggle">
								<div class="dark-mode-toggle-container">
									<label class="dark-mode-switch" title="Toggle dark mode">
										<input type="checkbox" id="darkModeCheckboxFooter" class="theme-toggle" aria-label="Toggle dark mode">
										<!-- Sun and moon icons: shown/hidden via CSS depending on checkbox state -->
										<svg class="icon icon-sun" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
											<circle cx="12" cy="12" r="4" fill="currentColor" />
											<g stroke="currentColor" stroke-width="2" stroke-linecap="round">
												<line x1="12" y1="1" x2="12" y2="3" />
												<line x1="12" y1="21" x2="12" y2="23" />
												<line x1="4.2" y1="4.2" x2="5.6" y2="5.6" />
												<line x1="18.4" y1="18.4" x2="19.8" y2="19.8" />
												<line x1="1" y1="12" x2="3" y2="12" />
												<line x1="21" y1="12" x2="23" y2="12" />
												<line x1="4.2" y1="19.8" x2="5.6" y2="18.4" />
												<line x1="18.4" y1="5.6" x2="19.8" y2="4.2" />
											</g>
										</svg>
										<svg class="icon icon-moon" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
											<path fill="currentColor" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
										</svg>
									</label>
								</div>
							</li>
		                </ul>
				</footer>
			<script>
					window.onscroll = function() {setSticky()};

					var nav = document.getElementById("myNav")
					var sticky = nav.offsetTop;

					function setSticky() {
					  if (window.pageYOffset > sticky) {
						nav.classList.add("sticky");
						for (i = 1; i <= 5; i++) {
					      var li = document.getElementById("" + i);
					      li.style.display = "inline";
					    }
					  } else {
					  	nav.classList.remove("sticky");
					  	for (i = 1; i <= 5; i++) {
					      var li = document.getElementById("" + i);
					      li.style.display = "none";
					    }
					  }
					}

					window.onload = function() {hideBar()};
					function hideBar() {
					  if (!nav.classList.contains("sticky")) {
					    for (i = 1; i <= 5; i++) {
					      var li = document.getElementById("" + i);
					      li.style.display = "none";
					    }
					  }
					}
			</script>
			<script>
			// Unified dark-mode handler: looks for toggle checkboxes in pages and applies a
			// `dark-mode` class on the root element. Preference is persisted in localStorage.
			(function() {
				const STORAGE_KEY = 'site-dark-mode';

				// Find all toggle inputs with the shared class. This supports multiple toggles
				// (nav and footer) without relying on duplicate IDs.
				function getToggles() {
					return Array.from(document.querySelectorAll('.theme-toggle'));
				}

				function applyDarkMode(enabled) {
					if (enabled) document.documentElement.classList.add('dark-mode');
					else document.documentElement.classList.remove('dark-mode');
					getToggles().forEach(el => { el.checked = enabled; });
				}

				function init() {
					const saved = localStorage.getItem(STORAGE_KEY);
					const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
					const enabled = saved === null ? prefersDark : saved === 'true';
					applyDarkMode(enabled);

					getToggles().forEach(el => {
						el.addEventListener('change', (e) => {
							const now = !!e.target.checked;
							localStorage.setItem(STORAGE_KEY, now.toString());
							applyDarkMode(now);
						});
					});
				}

			  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
			  else init();
			})();
			</script>
		</body>
	</html>
